<?xml version="1.0"?>
<launch>
  <arg name="set_initial_pose" default="true"/>
  <arg name="set_custom_goal" default="false"/>
  <arg name="follow_waypoints" default="true"/>
  <arg name="x" default="0.0"/>
  <arg name="y" default="0.0"/>
  <arg name="w" default="0.0"/>

  <include file="$(find-pkg-share turtlebot3_navigation2)/launch/navigation2.launch.py">
    <arg name="use_sim_time" value="true"/>
    <arg name="map" value="$(find-pkg-share turtlebot_bringup)/maps/my_map.yaml"/>
    <arg name="autostart" value="true"/>
  </include>

  <timer period="5.0">
    <include file="$(find-pkg-share turtlebot3_gazebo)/launch/turtlebot3_world.launch.py" />
  </timer>

  <timer period="15.0">
    <node pkg="sapien_robotics" exec="navigate_turtlebot3" name="navigate_turtlebot3" output="screen">
      <param name="set_initial_pose" value="$(var set_initial_pose)"/>
      <param name="set_custom_goal" value="$(var set_custom_goal)"/>
      <param name="follow_waypoints" value="$(var follow_waypoints)"/>
      <param name="x" value="$(var x)"/>
      <param name="y" value="$(var y)"/>
      <param name="w" value="$(var w)"/>
    </node>
  </timer>
</launch>